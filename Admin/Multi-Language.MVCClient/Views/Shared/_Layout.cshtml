@using Multi_language.Common
@using Multi_language.Common.Infrastructure.Manifest
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Multi API Administrator</title>
        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

        @Styles.Render("~/Content/css")
        @Scripts.Render("~/bundles/modernizr")

        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        @*      SEO Start point        *@
        @* Icons & Platform Specific Settings (See http://rehansaeed.com/internet-favicon-madness/ for detailed
        information). The order of these icons is very important. *@

        @* Apple Icons - See https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Introduction.html#//apple_ref/doc/uid/30001261-SW1 *@
        @* apple-touch-icon-57x57.png - Android Stock Browser and non-Retina iPhone and iPod Touch *@
        <link rel="apple-touch-icon" sizes="57x57" href="~/Images/Socials/icons/apple-touch-icon-57x57.png">
        @* apple-touch-icon-60x60.png - Same as apple-touch-icon-57x57.png, for non-retina iPhone with iOS7. *@
        <link rel="apple-touch-icon" sizes="60x60" href="~/Images/Socials/icons/apple-touch-icon-60x60.png">
        @* apple-touch-icon-72x72.png - iPad mini and the first- and second-generation iPad (1× display) on iOS ≤ 6 *@
        <link rel="apple-touch-icon" sizes="72x72" href="~/Images/Socials/icons/apple-touch-icon-72x72.png">
        @* apple-touch-icon-76x76.png - iPad mini and the first- and second-generation iPad (1× display) on iOS ≥ 7 *@
        <link rel="apple-touch-icon" sizes="76x76" href="~/Images/Socials/icons/apple-touch-icon-76x76.png">
        @* apple-touch-icon-114x114.png - iPhone (with 2× display) iOS ≤ 6 *@
        <link rel="apple-touch-icon" sizes="114x114" href="~/Images/Socials/icons/apple-touch-icon-114x114.png">
        @* apple-touch-icon-120x120.png - iPhone (with 2× and 3 display) iOS ≥ 7 *@
        <link rel="apple-touch-icon" sizes="120x120" href="~/Images/Socials/icons/apple-touch-icon-120x120.png">
        @* apple-touch-icon-144x144.png - iPad (with 2× display) iOS ≤ 6 *@
        <link rel="apple-touch-icon" sizes="144x144" href="~/Images/Socials/icons/apple-touch-icon-144x144.png">
        @* apple-touch-icon-152x152.png - iPad 3+ (with 2× display) iOS ≥ 7 *@
        <link rel="apple-touch-icon" sizes="152x152" href="~/Images/Socials/icons/apple-touch-icon-152x152.png">
        @* apple-touch-icon-180x180.png - iPad and iPad mini (with 2× display) iOS ≥ 8 *@
        <link rel="apple-touch-icon" sizes="180x180" href="~/Images/Socials/icons/apple-touch-icon-180x180.png">

        @* favicon-32x32.png - For Safari on Mac OS. *@
        <link rel="icon" type="image/png" href="~/Images/Socials/icons/favicon-32x32.png" sizes="32x32">
        @* favicon-192x192.png - For Android Chrome M36 to M38 this icon is used. M39+ uses the manifest.json file specified below. *@
        <link rel="icon" type="image/png" href="~/Images/Socials/icons/favicon-192x192.png" sizes="192x192">
        @* favicon-16x16.png - The classic favicon, displayed in the tabs. *@
        <link rel="icon" type="image/png" href="~/Images/Socials/icons/favicon-16x16.png" sizes="16x16">

        @* apple-mobile-web-app-title - The name of the application if pinned to the IOS start screen. *@
        <meta name="apple-mobile-web-app-title" content="Multi API Administrator">
        @* apple-mobile-web-app-capable - Hide the browsers user interface on IOS, when the app is run in 'stand-alone'
        mode. Any links to other pages that are clicked whilst your app is in stand-alone mode will launch the full
        Safari browser. *@
        <meta name="apple-mobile-web-app-capable" content="yes">
        @* apple-mobile-web-app-status-bar-style - default/black/black-translucent Styles the IOS status bar. Using
        black-translucent makes it transparent and overlays it on top of your site, so make sure you have enough margin. *@
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        @* Apple Startup Images - These splash screen images are only shown if apple-mobile-web-app-capable is set to true.
        See https://gist.github.com/tfausak/2222823 *@
        @* apple-touch-startup-image-1536x2008.png - iOS 6 & 7 iPad (retina, portrait) *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)">
        @* apple-touch-startup-image-1496x2048.png - iOS 6 & 7 iPad (retina, landscape) *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)">
        @* apple-touch-startup-image-768x1004.png - iOS 6 iPad (portrait) *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-768x1004.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)">
        @* apple-touch-startup-image-748x1024.png - iOS 6 iPad (landscape) *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-748x1024.png" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)">
        @* apple-touch-startup-image-640x1096.png - iOS 6 & 7 iPhone 5 *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
        @* apple-touch-startup-image-640x920.png - iOS 6 & 7 iPhone (retina) *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-640x920.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">
        @* apple-touch-startup-image-320x460.png - iOS 6 iPhone *@
        <link rel="apple-touch-startup-image" href="~/Images/Socials/icons/apple-touch-startup-image-320x460.png" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)">

        @* Android/Chrome *@
        @* manifest-json - The location of the browser configuration file. It contains locations of icon files, name of the
        application and default device screen orientation. Note that the name field is mandatory.
        See https://developer.chrome.com/multidevice/android/installtohomescreen. *@
        <link rel="manifest" href="@Url.RouteUrl("manifest")">
        @* theme-color - The colour of the toolbar in Chrome M39+
        See http://updates.html5rocks.com/2014/11/Support-for-theme-color-in-Chrome-39-for-Android *@
        <meta name="theme-color" content="#1E1E1E">
        @* mobile-web-app-capable - Run Android/Chrome version M31 to M38 in stand-alone mode, hiding the browser chrome. *@
        <meta name="mobile-web-app-capable" content="yes">

        @* Windows 7 Taskbar - This depends on your site, so no code here. See http://www.buildmypinnedsite.com/windows7 *@

        @* Windows 8.1/10 IE11/Edge - See http://www.buildmypinnedsite.com *@
        @* msapplication-config - The location of the browser configuration file. This is not required if the
        browserconfig.xml file is at the root of the site (Which it is). *@
        @* <meta name="msapplication-config" content="@Url.RouteUrl(HomeControllerRoute.GetBrowserConfigXml).TrimEnd('/')"> *@

        @* Description - Used by search engines. Aim for more than 160 characters. *@
        <meta name="description" content="Admin panel with web API for multi-language support and integration in all kind of clients (android, ios, web sites...) ">
        @*      SEO End point        *@

    </head>

    <!--
    BODY TAG OPTIONS:
    =================
    Apply one or more of the following classes to get the
    desired effect
    |---------------------------------------------------------|
    | SKINS         | skin-blue                               |
    |               | skin-black                              |
    |               | skin-purple                             |
    |               | skin-yellow                             |
    |               | skin-red                                |
    |               | skin-green                              |
    |---------------------------------------------------------|
    |LAYOUT OPTIONS | fixed                                   |
    |               | layout-boxed                            |
    |               | layout-top-nav                          |
    |               | sidebar-collapse                        |
    |               | sidebar-mini                            |
    |---------------------------------------------------------|
    -->
    <body class="hold-transition skin-red sidebar-mini">
        <div class="wrapper">

            <!-- Main Header -->
            @Html.Partial("LayoutPartials/MainHeader")

            <!-- Left side column. contains the logo and sidebar -->
            @Html.Partial("LayoutPartials/MainSidebar")

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper" id="main-page-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        @ViewBag.ContentHeader
                        <small>@ViewBag.ContentDescription</small>
                    </h1>
                    <ol class="breadcrumb">
                        <li><a href="#" id="breadcrumb-parent"><i class="fa fa-dashboard"></i> Level</a></li>
                        <li class="active" id="breadcrumb-child">Here</li>
                    </ol>
                </section>

                <!-- Main content -->
                <section class="content" id="wrapper-page-content">
                    <div class="row">
                        <div class="col-md-3" id="project-box" style="min-height: 176px">
                            <div class="box box-danger" style="min-height: 163px">
                                <div class="box-header with-border">
                                    <h3 class="box-title">Active project</h3>
                                    <div class="box-tools pull-right">
                                        <span class="label label-default">Loading...</span>
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    Waiting for active project box
                                </div><!-- /.box-body -->
                                <div class="overlay">
                                    <i class="fa fa-refresh fa-spin"></i>
                                </div>
                            </div><!-- /.box -->
                        </div>

                        <div id="first-row-content" class="col-md-9">
                            <div id="data"></div>
                        </div>
                    </div>
                    <!-- Your Page Content Here -->
                    <div id="page-content">
                        @RenderBody()
                    </div>
                </section>
                <!-- /.content -->
            </div>

            <!-- Main Footer -->
            @Html.Partial("LayoutPartials/MainFooter")

            <!-- Control Sidebar -->
            @Html.Partial("LayoutPartials/ControlSidebar")

            <!-- Add<,,> the sidebar's background. This div must be placed
                 immediately after the control sidebar -->
            <div class="control-sidebar-bg"></div>
        </div>

        @Html.Partial("LayoutPartials/LockScreen")

        <iframe id="file-download-frame" style="display:none;"></iframe>

        <!-- jQuery -->
        @Scripts.Render("~/bundles/jquery")

        <!-- Bootstrap -->
        @Scripts.Render("~/bundles/bootstrap")

        <!-- Theme and plugins -->
        @Scripts.Render("~/bundles/theme")

        @using Multi_language.Common
@using Multi_language.Common.Infrastructure.Manifest
        @{
            var reservedSpace = $"{Utils.GetDiskSpaceUsedPercentage():N1}";
            var freeSpace = $"{100 - Utils.GetDiskSpaceUsedPercentage():N1}";

            var baseAdressApi = System.Configuration.ConfigurationManager.AppSettings["MultiLanguageApiUrl"];
        }
        <!-- Signalr Configuration and hubs-->
        <script src="~/Scripts/jquery.signalR-2.2.1.min.js"></script>
        <script src="@baseAdressApi/signalr/hubs"></script>
        <script src="~/Scripts/MltApi/SignalR/MltApi-InternalHub.js"></script>
        <script src="~/Scripts/MltApi/SignalR/InternalHub/MltApi-InternalHubRecievers.js"></script>


        <style>
            .kv-file-zoom {
                display: none;
            }
        </style>
        <script>

            //Initialise scope for project. Keep global scope clean as f....
            $.MltApi = $.MltApi || {};

            //Global variables. TODO Consider removing them
            $.MltApi.FreeSpace = @freeSpace;
            $.MltApi.ReservedSpace = @reservedSpace;

            $(document).ajaxStart(function () {
                Pace.restart();
            });
            $(document).ready(function () {
                $.MltApi.LoadProjectBox();

                $.MltApi.InitialisePlugins();
                //if documentation controller
                $.MltApi.ExpandAllPanels = function () {
                    $('#accordion .panel-collapse').collapse('toggle');
                };


                var url = $(location).attr('href').split('/');
                $.MltApi.LoadFirstRow("../../Sections/FirstRow?id=" + url[3]);

                //Init SignalR hubs after all
                $.MltApi.InitInternalHub("@baseAdressApi/signalr");

            });
        </script>


        @RenderSection("scripts", required: false)
    </body>
</html>
